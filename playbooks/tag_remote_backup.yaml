---
- name: Tag Remote Backup
  hosts: network
  tasks:
    - name: Set Timestamp
      ansible.builtin.set_fact:
        time: "{{ lookup('pipe', 'date \"+%Y-%m-%d\"') }}"

    - name: Network Backup and Resource Manager
      ansible.builtin.include_role:
        name: network.backup.run
      vars:
        operation: backup
        tag:
          annotation: "{{ time }}"
          message: "backup_on for group network on : {{ time }}"
        data_store:
          scm:
            origin:
              url: "https://github.com/rohitthakur2590/network_automation_backups"
              token: "{{ github_token }}"

